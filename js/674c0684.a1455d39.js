(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["674c0684"],{"014b":function(t,e,i){"use strict";var r=i("e53d"),n=i("07e3"),s=i("8e60"),a=i("63b6"),o=i("9138"),c=i("ebfd").KEY,l=i("294c"),u=i("dbdb"),m=i("45f2"),f=i("62a0"),d=i("5168"),h=i("ccb9"),p=i("6718"),v=i("47ee"),y=i("9003"),b=i("e4ae"),g=i("f772"),w=i("241e"),x=i("36c3"),O=i("1bc3"),S=i("aebd"),k=i("a159"),q=i("0395"),C=i("bf0b"),T=i("9aa9"),_=i("d9f6"),F=i("c3a1"),D=C.f,N=_.f,P=q.f,j=r.Symbol,z=r.JSON,E=z&&z.stringify,I="prototype",G=d("_hidden"),U=d("toPrimitive"),M={}.propertyIsEnumerable,W=u("symbol-registry"),H=u("symbols"),A=u("op-symbols"),L=Object[I],$="function"==typeof j&&!!T.f,B=r.QObject,X=!B||!B[I]||!B[I].findChild,Y=s&&l(function(){return 7!=k(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(t,e,i){var r=D(L,e);r&&delete L[e],N(t,e,i),r&&t!==L&&N(L,e,r)}:N,J=function(t){var e=H[t]=k(j[I]);return e._k=t,e},V=$&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},K=function(t,e,i){return t===L&&K(A,e,i),b(t),e=O(e,!0),b(i),n(H,e)?(i.enumerable?(n(t,G)&&t[G][e]&&(t[G][e]=!1),i=k(i,{enumerable:S(0,!1)})):(n(t,G)||N(t,G,S(1,{})),t[G][e]=!0),Y(t,e,i)):N(t,e,i)},Q=function(t,e){b(t);var i,r=v(e=x(e)),n=0,s=r.length;while(s>n)K(t,i=r[n++],e[i]);return t},R=function(t,e){return void 0===e?k(t):Q(k(t),e)},Z=function(t){var e=M.call(this,t=O(t,!0));return!(this===L&&n(H,t)&&!n(A,t))&&(!(e||!n(this,t)||!n(H,t)||n(this,G)&&this[G][t])||e)},tt=function(t,e){if(t=x(t),e=O(e,!0),t!==L||!n(H,e)||n(A,e)){var i=D(t,e);return!i||!n(H,e)||n(t,G)&&t[G][e]||(i.enumerable=!0),i}},et=function(t){var e,i=P(x(t)),r=[],s=0;while(i.length>s)n(H,e=i[s++])||e==G||e==c||r.push(e);return r},it=function(t){var e,i=t===L,r=P(i?A:x(t)),s=[],a=0;while(r.length>a)!n(H,e=r[a++])||i&&!n(L,e)||s.push(H[e]);return s};$||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===L&&e.call(A,i),n(this,G)&&n(this[G],t)&&(this[G][t]=!1),Y(this,t,S(1,i))};return s&&X&&Y(L,t,{configurable:!0,set:e}),J(t)},o(j[I],"toString",function(){return this._k}),C.f=tt,_.f=K,i("6abf").f=q.f=et,i("355d").f=Z,T.f=it,s&&!i("b8e3")&&o(L,"propertyIsEnumerable",Z,!0),h.f=function(t){return J(d(t))}),a(a.G+a.W+a.F*!$,{Symbol:j});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;rt.length>nt;)d(rt[nt++]);for(var st=F(d.store),at=0;st.length>at;)p(st[at++]);a(a.S+a.F*!$,"Symbol",{for:function(t){return n(W,t+="")?W[t]:W[t]=j(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in W)if(W[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),a(a.S+a.F*!$,"Object",{create:R,defineProperty:K,defineProperties:Q,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:it});var ot=l(function(){T.f(1)});a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return T.f(w(t))}}),z&&a(a.S+a.F*(!$||l(function(){var t=j();return"[null]"!=E([t])||"{}"!=E({a:t})||"{}"!=E(Object(t))})),"JSON",{stringify:function(t){var e,i,r=[t],n=1;while(arguments.length>n)r.push(arguments[n++]);if(i=e=r[1],(g(e)||void 0!==t)&&!V(t))return y(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!V(e))return e}),r[1]=e,E.apply(z,r)}}),j[I][U]||i("35e8")(j[I],U,j[I].valueOf),m(j,"Symbol"),m(Math,"Math",!0),m(r.JSON,"JSON",!0)},"0395":function(t,e,i){var r=i("36c3"),n=i("6abf").f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return n(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?o(t):n(r(t))}},"355d":function(t,e){e.f={}.propertyIsEnumerable},"41ca":function(t,e,i){"use strict";var r=i("93b7"),n=i.n(r);n.a},"47ee":function(t,e,i){var r=i("c3a1"),n=i("9aa9"),s=i("355d");t.exports=function(t){var e=r(t),i=n.f;if(i){var a,o=i(t),c=s.f,l=0;while(o.length>l)c.call(t,a=o[l++])&&e.push(a)}return e}},"4e81":function(t,e,i){"use strict";var r=i("c38d"),n=i.n(r);n.a},"5d58":function(t,e,i){t.exports=i("d8d6")},6718:function(t,e,i){var r=i("e53d"),n=i("584a"),s=i("b8e3"),a=i("ccb9"),o=i("d9f6").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=s?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:a.f(t)})}},"67bb":function(t,e,i){t.exports=i("f921")},"69d3":function(t,e,i){i("6718")("asyncIterator")},"6abf":function(t,e,i){var r=i("e6f3"),n=i("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},"765d":function(t,e,i){i("6718")("observable")},8993:function(t,e,i){var r=i("5d58"),n=i("67bb");function s(t){return s="function"===typeof n&&"symbol"===typeof r?function(t){return typeof t}:function(t){return t&&"function"===typeof n&&t.constructor===n&&t!==n.prototype?"symbol":typeof t},s(t)}function a(e){return"function"===typeof n&&"symbol"===s(r)?t.exports=a=function(t){return s(t)}:t.exports=a=function(t){return t&&"function"===typeof n&&t.constructor===n&&t!==n.prototype?"symbol":s(t)},a(e)}t.exports=a},"8b24":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"flex flex-center bg-grey-3"},[i("div",{staticClass:"row q-gutter-md q-mt-md self-start"},[i("q-dialog",{attrs:{persistent:""},model:{value:"done"===t.fermenterOverview.machineStatus,callback:function(e){t.$set(t.fermenterOverview,"machineStatus==='done'",e)},expression:"fermenterOverview.machineStatus==='done'"}},[i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"mdi-progress-check",color:"deep-orange","text-color":"white"}}),i("span",{staticClass:"q-ml-sm"},[t._v("太好了！发酵过程已经完成！")])],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{outline:"",label:"确定",color:"deep-orange"}})],1)],1)],1),i("div",[i("q-card",{staticClass:"steps-card"},[i("q-card-section",{staticClass:"flex items-baseline"},[i("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"mdi-counter"}}),i("span",{staticClass:"text-h6"},[t._v("发酵步骤")])],1),i("q-separator",{attrs:{inset:""}}),"standby"===t.fermenterOverview.machineStatus?i("q-card-section",[i("q-input",{attrs:{"input-style":{fontSize:"24px"},label:"啤酒名称","lazy-rules":"",rules:[function(t){return null!==t&&""!==t||"请输入啤酒名称"}]},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{staticStyle:{color:"darkgoldenrod"},attrs:{name:"mdi-beer"}})]},proxy:!0}],null,!1,3358985639),model:{value:t.beerName,callback:function(e){t.beerName=e},expression:"beerName"}}),t._l(t.fermentationSteps,function(e,r){return i("div",{key:r,staticClass:"row items-center justify-around"},[i("div",[i("q-icon",{staticStyle:{"font-size":"24px",color:"steelblue"},attrs:{name:"mdi-dice-"+(r+1)}})],1),i("q-space"),i("div",[i("q-input",{staticClass:"step-input",attrs:{"input-style":{textAlign:"right",fontSize:"24px"},type:"number",label:"发酵天数","lazy-rules":"",rules:[function(t){return null!==t&&""!==t||"请输入发酵天数"},function(t){return t>0||"请输入正确的发酵天数"}]},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"mdi-calendar-clock"}})]},proxy:!0}],null,!0),model:{value:e.days,callback:function(i){t.$set(e,"days",t._n(i))},expression:"step.days"}})],1),i("q-space"),i("div",[i("q-input",{staticClass:"step-input",attrs:{"input-style":{textAlign:"right",fontSize:"24px"},type:"number",label:"发酵温度",rules:[function(t){return null!==t&&""!==t||"请输入发酵温度"},function(t){return t>0&&t<30||"请输入正确的发酵温度"}]},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:"mdi-temperature-celsius"}})]},proxy:!0}],null,!0),model:{value:e.temp,callback:function(i){t.$set(e,"temp",t._n(i))},expression:"step.temp"}})],1),i("q-space"),i("div",[i("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.fermentationSteps.length===r+1,expression:"fermentationSteps.length === index + 1"}],attrs:{round:"",dense:"",flat:"",color:"deep-orange",icon:"mdi-plus-circle-outline"},on:{click:function(e){return t.handleAddStep(r)}}}),i("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.fermentationSteps.length>r+1,expression:"fermentationSteps.length > index + 1"}],attrs:{round:"",dense:"",flat:"",color:"blue",icon:"mdi-minus-circle-outline"},on:{click:function(e){return t.handleDelStep(r)}}})],1)],1)})],2):i("q-card-section",[i("q-toolbar",{staticClass:"bg-grey-2 glossy shadow-1"},[i("q-toolbar-title",[i("q-icon",{staticStyle:{color:"darkgoldenrod"},attrs:{name:"mdi-beer"}}),t._v("\n              "+t._s(t.beerName)+"\n            ")],1)],1),i("q-list",{attrs:{bordered:"",separator:""}},t._l(t.fermentationSteps,function(e,r){return i("q-item",{key:r,class:t.stepBgColor(r)},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{staticStyle:{"font-size":"24px",color:"steelblue"},attrs:{name:"mdi-dice-"+(r+1)}})],1),i("q-item-section",[i("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v("发酵时长")]),i("q-item-label",{staticClass:"text-h6"},[t._v(t._s(e.days)+" 天")])],1),i("q-item-section",[i("q-item-label",{attrs:{caption:"",lines:"1"}},[t._v("发酵温度")]),i("q-item-label",{staticClass:"text-h6"},[t._v(t._s(e.temp)+" ℃")])],1),i("q-item-section",[i("q-item-label",{staticClass:"text-h6"},[t._v(t._s(t.stepProgressText(r)))])],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{attrs:{name:t.stepIcon(r),color:"green"}})],1)],1)}),1)],1)],1)],1),i("div",{staticClass:"column"},[i("div",{staticClass:"row q-gutter-md"},[i("div",{staticClass:"cursor-pointer",on:{click:t.switchGravityUnit}},[i("q-card",{staticClass:"bottom-card"},[i("q-card-section",{staticClass:"flex items-baseline"},[i("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"mdi-test-tube"}}),i("span",{staticClass:"text-h6"},[t._v("初始比重")])],1),i("q-separator",{attrs:{inset:""}}),i("q-card-section",{staticClass:"flex justify-center"},[i("div",{staticClass:"text-h3"},[t._v(t._s(t.hydrometerData.originalGravity?t.displayedGravity(t.hydrometerData.originalGravity):"N/A"))]),i("div",{staticClass:"text-caption"},[t._v(t._s(t.displayedGravityUnit))])])],1)],1),i("div",{staticClass:"cursor-pointer",on:{click:t.switchGravityUnit}},[i("q-card",{staticClass:"bottom-card"},[i("q-card-section",{staticClass:"flex items-center"},[i("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"mdi-test-tube"}}),i("span",{staticClass:"text-h6"},[t._v("当前比重")]),i("q-space"),i("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.hydrometerData.originalGravity&&t.hydrometerData.currentGravity,expression:"hydrometerData.originalGravity && hydrometerData.currentGravity"}],staticStyle:{"font-size":"2rem"},attrs:{name:t.hydroMeterBattery.icon,color:t.hydroMeterBattery.color}},[i("q-tooltip",{attrs:{anchor:"top left",self:"center middle"}},[t._v("\n                  电子比重计电量："+t._s(t.hydrometerData.batteryLevel)+"%\n                ")])],1)],1),i("q-separator",{attrs:{inset:""}}),i("q-card-section",{staticClass:"flex justify-center"},[i("div",{staticClass:"text-h3"},[t._v("\n                "+t._s(t.hydrometerData.currentGravity?t.displayedGravity(t.hydrometerData.currentGravity):"N/A")+"\n                "),i("q-badge",{directives:[{name:"show",rawName:"v-show",value:t.hydrometerData.originalGravity&&t.hydrometerData.currentGravity,expression:"hydrometerData.originalGravity && hydrometerData.currentGravity"}],attrs:{color:"orange",floating:"",transparent:""}},[t._v("\n                  ABV "+t._s(t.alcoholByVolume)+"%\n                ")])],1),i("div",{staticClass:"text-caption"},[t._v(t._s(t.displayedGravityUnit))])])],1)],1),i("div",[i("q-card",{staticClass:"bottom-card"},[i("q-card-section",{staticClass:"flex items-center"},[i("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"mdi-blender"}}),i("div",{staticClass:"text-h6"},[t._v("工作状态")]),i("q-space"),i("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.fermenterOverview.isCooling,expression:"fermenterOverview.isCooling"}],staticStyle:{color:"dodgerblue","font-size":"2rem"},attrs:{name:"mdi-snowflake"}},[i("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"}},[t._v("\n                  正在制冷\n                ")])],1),i("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.fermenterOverview.isHeating,expression:"fermenterOverview.isHeating"}],staticStyle:{color:"orangered","font-size":"2rem"},attrs:{name:"mdi-fire"}},[i("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"}},[t._v("\n                  正在加热\n                ")])],1)],1),i("q-separator",{attrs:{inset:""}}),i("q-card-section",{staticClass:"flex justify-center"},[i("q-btn",{staticClass:"full-width glossy",attrs:{color:"deep-orange",size:"20px",loading:"running"===t.fermenterOverview.machineStatus,icon:t.machineStatusIcon,label:t.buttonText,disable:t.buttonDisabled},on:{click:t.handleBtnClick},scopedSlots:t._u([{key:"loading",fn:function(){return[i("q-spinner-hourglass",{staticClass:"on-left"}),t._v("\n                  "+t._s(t.buttonText)+"\n                ")]},proxy:!0}])})],1)],1)],1)]),i("div",{staticClass:"row q-mt-md"},[i("div",{staticClass:"q-mr-md cursor-pointer",on:{click:t.switchTempUnit}},[i("q-card",{staticClass:"thermometer-card"},[i("q-card-section",{staticClass:"flex items-baseline"},[i("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"mdi-thermometer"}}),i("span",{staticClass:"text-h6"},[t._v("目标温度")]),i("div",{staticClass:"text-h2"},[t._v(t._s(t.displayedTemp(t.fermenterOverview.setTemp).toFixed(1))+t._s(t.displayedTempUnit))])],1),i("q-separator",{attrs:{inset:""}}),i("q-card-section",[i("div",{staticClass:"row justify-center"},[i("div",[i("vue-thermometer",{attrs:{max:t.displayedTemp(28),min:t.displayedTemp(2),scale:"c"===t.tempUnit?"℃":"℉",options:t.setThermoMeterOption,value:t.displayedTemp(t.fermenterOverview.setTemp)}})],1)])])],1)],1),i("div",{staticClass:"q-mr-md cursor-pointer",on:{click:t.switchTempUnit}},[i("q-card",{staticClass:"thermometer-card"},[i("q-card-section",{staticClass:"flex items-baseline"},[i("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"mdi-thermometer"}}),i("div",{staticClass:"text-h6"},[t._v("麦芽汁温度")]),i("div",{staticClass:"text-h2"},[t._v(t._s(t.displayedTemp(t.fermenterOverview.wortTemp).toFixed(1))+t._s(t.displayedTempUnit))])],1),i("q-separator",{attrs:{inset:""}}),i("q-card-section",[i("div",{staticClass:"row justify-center"},[i("div",[i("vue-thermometer",{attrs:{max:t.displayedTemp(t.wortTempMax),min:t.displayedTemp(2),scale:"c"===t.tempUnit?"℃":"℉",options:t.wortThermoMeterOption,value:t.displayedTemp(t.fermenterOverview.wortTemp)}})],1)])])],1)],1),i("div",{staticClass:"cursor-pointer",on:{click:t.switchTempUnit}},[i("q-card",{staticClass:"thermometer-card"},[i("q-card-section",{staticClass:"flex items-baseline"},[i("q-icon",{staticStyle:{"font-size":"20px"},attrs:{name:"mdi-thermometer"}}),i("div",{staticClass:"text-h6"},[t._v("发酵箱温度")]),i("div",{staticClass:"text-h2"},[t._v(t._s(t.displayedTemp(t.fermenterOverview.chamberTemp).toFixed(1))+t._s(t.displayedTempUnit))])],1),i("q-separator",{attrs:{inset:""}}),i("q-card-section",[i("div",{staticClass:"row justify-center"},[i("div",[i("vue-thermometer",{attrs:{max:t.displayedTemp(t.chamberTempMax),min:t.displayedTemp(2),scale:"c"===t.tempUnit?"℃":"℉",options:t.chamberThermoMeterOption,value:t.displayedTemp(t.fermenterOverview.chamberTemp)}})],1)])])],1)],1)])])],1)])},n=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-thermometer",class:t.customClass},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height}},[i("g",[i("g",{attrs:{id:"11"}},t._l(t.ticks,function(e,r){return i("path",{directives:[{name:"show",rawName:"v-show",value:t.defaultOptions.thermo.ticksEnabled,expression:"defaultOptions.thermo.ticksEnabled"}],key:r,attrs:{stroke:t.defaultOptions.thermo.tickColor,"stroke-width":t.defaultOptions.thermo.tickWidth,"stroke-miterlimit":t.defaultOptions.thermo.tickWidth,id:"12"+r,d:t.offsetLine(r)}})}),0),i("circle",{attrs:{cx:t.roundDotPositionX,cy:t.glassHeight,r:.9*t.glassWidth+2,stroke:t.defaultOptions.thermo.frameColor,"stroke-width":"4",fill:t.defaultOptions.thermo.color}}),i("rect",{attrs:{fill:t.defaultOptions.thermo.frameColor,"fill-rule":"nonzero","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"4","stroke-dashoffset":"0",ry:"16",rx:"16",y:t.glassOffset-2,x:t.baseXOffset-2,height:t.glassHeight+4,width:t.glassWidth+4,id:"14"}}),i("rect",{attrs:{fill:t.defaultOptions.thermo.backgroundColor,"fill-rule":"nonzero","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"4","stroke-dashoffset":"0",ry:"16",rx:"16",y:t.glassOffset,x:t.baseXOffset,height:t.glassHeight,width:t.glassWidth,id:"15"}}),i("circle",{attrs:{cx:t.roundDotPositionX,cy:t.glassHeight,r:.9*t.glassWidth,stroke:t.defaultOptions.thermo.backgroundColor,"stroke-width":"4",fill:t.defaultOptions.thermo.color}}),i("rect",{attrs:{fill:t.defaultOptions.thermo.color,stroke:"#000000","stroke-width":"0","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"4","stroke-dashoffset":"0",ry:"8",rx:"8",x:t.baseXOffset+3,y:t.thermoOffset,width:t.thermoWidth,height:t.thermoHeight,id:"svg_18"}}),t._l(t.ticks,function(e,r){return i("text",{directives:[{name:"show",rawName:"v-show",value:t.defaultOptions.text.textEnabled,expression:"defaultOptions.text.textEnabled"}],key:r,attrs:{id:"svg_19"+r,fill:t.defaultOptions.text.color,stroke:t.defaultOptions.text.color,"stroke-width":"0",x:t.textSpacing,y:t.offsetText(r),"font-size":t.defaultOptions.text.fontSize,"font-family":t.defaultOptions.text.fontFamily,"text-anchor":"middle","xml:space":"preserve"}},[t._v(t._s(e)+t._s(t.scale))])})],2)])])},a=[],o=i("8993"),c=i.n(o),l=(i("c5f6"),.75),u={props:{value:{type:Number,default:0,required:!1},min:{type:Number,default:-20,required:!1},max:{type:Number,default:25,required:!1},scale:{type:String,default:"°C",required:!1},options:{type:Object,required:!1},customClass:{type:String,required:!1}},created:function(){this.defaultOptions={text:{color:"black",fontSize:10,textAdjustmentY:2,fontFamily:"Arial",textEnabled:!0},thermo:{color:"#FF0000",backgroundColor:"#fcf9f9",frameColor:"black",ticks:10,ticksEnabled:!0,tickColor:"black",tickWidth:"1"},layout:{height:300,width:90}}},mounted:function(){null!==this.options&&void 0!==this.options&&this.mergeDefaultOptionsWithProp(this.options)},data:function(){return{defaultOptions:Object}},computed:{baseXOffset:function(){return this.defaultOptions.layout.width/5},width:function(){return this.defaultOptions.layout.width},height:function(){return this.defaultOptions.layout.height},textSpacing:function(){return this.width*l},tickStep:function(){return Math.abs(this.max-this.min)/(this.defaultOptions.thermo.ticks-1)},ticks:function(){for(var t=[],e=this.max,i=0;i<this.defaultOptions.thermo.ticks-1;i++)t.push(Math.round(e)),e-=this.tickStep;return t.push(Math.round(this.min)),t},thermoWidth:function(){return this.defaultOptions.layout.width/6},glassWidth:function(){return this.defaultOptions.layout.width/6+6},tickWidth:function(){return Math.ceil(this.defaultOptions.layout.width/12)},glassOffset:function(){return.02*this.defaultOptions.layout.height},glassHeight:function(){var t=.95*this.defaultOptions.layout.height;while(this.defaultOptions.layout.height-t<30)t-=1;return t},tickStepSize:function(){return this.glassHeight/this.defaultOptions.thermo.ticks},thermoOffset:function(){var t=Math.ceil(this.glassHeight-this.thermoHeight);return this.glassOffset+t},level:function(){return Math.ceil(100*(this.value-this.min)/(this.max-this.min))},thermoHeight:function(){return this.level*(this.glassHeight/100)+(100-this.level)/100*this.glassHeight*.075},roundDotPositionX:function(){return this.baseXOffset+.5*this.glassWidth},roundDot:function(){return"m74.829132,"+this.glassHeight+"a33.41457,32 0 1 1 -66.829132,0a33.41457,32 0 1 1 66.829132,0z"}},methods:{mergeDefaultOptionsWithProp:function(t){var e=this.defaultOptions;for(var i in t)if(null!==t[i]&&"object"===c()(t[i]))for(var r in t[i])void 0!==t[i][r]&&null!==t[i][r]&&(e[i][r]=t[i][r]);else e[i]=t[i]},offsetText:function(t){var e=this.tickStepSize/this.defaultOptions.thermo.ticks+this.glassOffset+this.defaultOptions.text.textAdjustmentY,i=t*this.tickStepSize;return Number(i)+Number(e)},offsetLine:function(t){var e=this.tickStepSize/this.defaultOptions.thermo.ticks+this.glassOffset,i=t*this.tickStepSize,r=t%2===0?"l"+Math.ceil(1.4*this.tickWidth):"l"+Math.ceil(this.tickWidth+this.tickWidth);i=Number(i)+Number(e)+r;var n="m"+Number(.4*this.defaultOptions.layout.width)+".121861,";return n+i+".121853,0"}},watch:{options:function(t){null!==t&&void 0!==t&&this.mergeDefaultOptionsWithProp(t)}}},m=u,f=(i("4e81"),i("2877")),d=Object(f["a"])(m,s,a,!1,null,"1274fc34",null),h=d.exports,p={name:"PageIndex",components:{VueThermometer:h},methods:{handleAddStep:function(t){this.fermentationSteps.length<6&&this.fermentationSteps[t].days&&this.fermentationSteps[t].temp&&(this.fermentationSteps[t].days=Math.round(this.fermentationSteps[t].days),this.fermentationSteps.push({days:"",temp:""}))},handleDelStep:function(t){this.fermentationSteps.splice(t,1)},handleBtnClick:function(){var t=this;"standby"===this.fermenterOverview.machineStatus&&(this.fermentationSteps[this.fermentationSteps.length-1].days&&this.fermentationSteps[this.fermentationSteps.length-1].temp||this.fermentationSteps.splice(this.fermentationSteps.length-1,1),this.$axios.post("/fermentation",{fermentationSteps:this.fermentationSteps}).then(function(e){t.fermenterOverview.machineStatus="running",t.$q.notify({color:"info",icon:"mdi-checkbox-marked-circle-outline",message:"发酵步骤已成功发送至主控板，发酵开始!"})}).catch(function(e){console.log(e),t.$q.notify({color:"negative",icon:"mdi-close-circle-outline",message:"Error: 向主控板发送发酵步骤时出现错误!"})}))},stepIcon:function(t){return t>this.fermenterOverview.currentFermentationStepIndex?"mdi-circle-outline":t<this.fermenterOverview.currentFermentationStepIndex?"mdi-check-circle":this.fermenterOverview.currentFermentationStepPercentage>0&&this.fermenterOverview.currentFermentationStepPercentage<=15?"mdi-circle-slice-1":this.fermenterOverview.currentFermentationStepPercentage>15&&this.fermenterOverview.currentFermentationStepPercentage<=30?"mdi-circle-slice-2":this.fermenterOverview.currentFermentationStepPercentage>30&&this.fermenterOverview.currentFermentationStepPercentage<=45?"mdi-circle-slice-3":this.fermenterOverview.currentFermentationStepPercentage>45&&this.fermenterOverview.currentFermentationStepPercentage<=55?"mdi-circle-slice-4":this.fermenterOverview.currentFermentationStepPercentage>55&&this.fermenterOverview.currentFermentationStepPercentage<=70?"mdi-circle-slice-5":this.fermenterOverview.currentFermentationStepPercentage>70&&this.fermenterOverview.currentFermentationStepPercentage<=85?"mdi-circle-slice-6":"mdi-circle-slice-7"},stepBgColor:function(t){return t>this.fermenterOverview.currentFermentationStepIndex?"bg-grey-3":t<this.fermenterOverview.currentFermentationStepIndex?"bg-grey-5":""},stepProgressText:function(t){return t>this.fermenterOverview.currentFermentationStepIndex?"尚未开始":t<this.fermenterOverview.currentFermentationStepIndex?"已经完成":"正在进行 "+this.fermenterOverview.currentFermentationStepPercentage+"%"},displayedGravity:function(t){if("sg"===this.gravityUnit)return t.toFixed(3);var e=t,i=1111.14*e-616.868-630.272*Math.pow(e,2)+135.997*Math.pow(e,3);return i.toFixed(2)},switchGravityUnit:function(){"sg"===this.gravityUnit?this.gravityUnit="p":this.gravityUnit="sg"},displayedTemp:function(t){return"number"===typeof t?"c"===this.tempUnit?t:1.8*t+32:-99.9},switchTempUnit:function(){"c"===this.tempUnit?this.tempUnit="f":this.tempUnit="c"},connectionTest:function(){var t=this;this.$axios.get("/connecttest").then(function(e){t.dismissConnectionTestNotify&&(t.dismissConnectionTestNotify(),t.dismissConnectionTestNotify=null),console.log(e)}).catch(function(){t.dismissConnectionTestNotify||(t.dismissConnectionTestNotify=t.$q.notify({color:"negative",icon:"mdi-close-network-outline",message:"Error: 前端与主控板之间的通讯中断!",timeout:0}))})},updateOverview:function(){var t=this;this.$axios.get("/overview").then(function(e){t.fermenterOverview=e.data;var i={machineStatus:t.fermenterOverview.machineStatus,machineStatusIcon:t.machineStatusIcon,breweryName:t.fermenterOverview.breweryName,wifiIsConnected:t.fermenterOverview.wifiIsConnected,realDate:t.fermenterOverview.realDate,realTime:t.fermenterOverview.realTime};t.$root.$emit("statusBarInfo",i)}).catch(function(t){console.log(t)})},testEmit:function(){var t={machineStatus:this.fermenterOverview.machineStatus,machineStatusIcon:this.machineStatusIcon,breweryName:this.fermenterOverview.breweryName,wifiIsConnected:this.fermenterOverview.wifiIsConnected,realDate:this.fermenterOverview.realDate,realTime:this.fermenterOverview.realTime};this.$root.$emit("statusBarInfo",t)}},computed:{hydroMeterBattery:function(){return this.hydrometerData.batteryLevel>90?{icon:"mdi-battery",color:"green"}:this.hydrometerData.batteryLevel<=90&&this.hydrometerData.batteryLevel>70?{icon:"mdi-battery-70",color:"green"}:this.hydrometerData.batteryLevel<=70&&this.hydrometerData.batteryLevel>50?{icon:"mdi-battery-50",color:"green"}:this.hydrometerData.batteryLevel<=50&&this.hydrometerData.batteryLevel>30?{icon:"mdi-battery-30",color:"green"}:this.hydrometerData.batteryLevel<=30&&this.hydrometerData.batteryLevel>10?{icon:"mdi-battery-10",color:"red"}:{icon:"mdi-battery-alert",color:"red"}},alcoholByVolume:function(){if(this.hydrometerData.originalGravity&&this.hydrometerData.currentGravity)return(131.25*(this.hydrometerData.originalGravity-this.hydrometerData.currentGravity)).toFixed(1)},displayedGravityUnit:function(){return"sg"===this.gravityUnit?"SG":"°P"},chamberTempMax:function(){return this.fermenterOverview.chamberTemp>28?Math.ceil(this.fermenterOverview.chamberTemp):28},wortTempMax:function(){return this.fermenterOverview.wortTemp>28?Math.ceil(this.fermenterOverview.wortTemp):28},displayedTempUnit:function(){return"c"===this.tempUnit?"℃":"℉"},machineStatusIcon:function(){return"standby"===this.fermenterOverview.machineStatus?"mdi-power-standby":"running"===this.fermenterOverview.machineStatus?"mdi-progress-clock":"mdi-progress-check"},buttonText:function(){return"standby"===this.fermenterOverview.machineStatus?"开始发酵":"done"===this.fermenterOverview.machineStatus?"发酵完成":"正在发酵"},buttonDisabled:function(){return!("standby"===this.fermenterOverview.machineStatus&&this.beerName&&this.fermentationSteps[0].days&&this.fermentationSteps[0].temp)}},created:function(){this.connectionTest(),setInterval(this.connectionTest,6e3),this.updateOverview(),setInterval(this.updateOverview,58e3)},data:function(){return{fermenterOverview:{breweryName:"豚鼠精酿",wifiIsConnected:!0,realDate:"2019/7/28",realTime:"1:08",machineStatus:"standby",setTemp:20,wortTemp:21.3,chamberTemp:15.5,isHeating:!1,isCooling:!0,currentFermentationStep:null,currentFermentationStepIndex:1,currentFermentationStepPercentage:62,stepHoursLeft:null,totalFermentationStep:null,totalFermentationStepPercentage:null,totalHoursLeft:null},hydrometerData:{isConnected:!1,originalGravity:1.068,currentGravity:1.017,batteryLevel:35,series:[]},beerName:"",fermentationSteps:[{days:null,temp:null}],tempUnit:"c",gravityUnit:"sg",dismissConnectionTestNotify:null,wortThermoMeterOption:{text:{color:"black",fontSize:10,textAdjustmentY:2,fontFamily:"Arial",textEnabled:!0},thermo:{color:"#FF7800",backgroundColor:"#fcf9f9",frameColor:"black",ticks:14,ticksEnabled:!0,tickColor:"black",tickWidth:"1"},layout:{height:300,width:80}},chamberThermoMeterOption:{text:{color:"black",fontSize:10,textAdjustmentY:2,fontFamily:"Arial",textEnabled:!0},thermo:{color:"#4768F9",backgroundColor:"#fcf9f9",frameColor:"black",ticks:14,ticksEnabled:!0,tickColor:"black",tickWidth:"1"},layout:{height:300,width:80}},setThermoMeterOption:{text:{color:"black",fontSize:10,textAdjustmentY:2,fontFamily:"Arial",textEnabled:!0},thermo:{color:"#FF0000",backgroundColor:"#fcf9f9",frameColor:"black",ticks:14,ticksEnabled:!0,tickColor:"black",tickWidth:"1"},layout:{height:300,width:80}}}}},v=p,y=(i("41ca"),Object(f["a"])(v,r,n,!1,null,"566e84bc",null));e["default"]=y.exports},"93b7":function(t,e,i){},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},bf0b:function(t,e,i){var r=i("355d"),n=i("aebd"),s=i("36c3"),a=i("1bc3"),o=i("07e3"),c=i("794b"),l=Object.getOwnPropertyDescriptor;e.f=i("8e60")?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(i){}if(o(t,e))return n(!r.f.call(t,e),t[e])}},c38d:function(t,e,i){},ccb9:function(t,e,i){e.f=i("5168")},d8d6:function(t,e,i){i("1654"),i("6c1c"),t.exports=i("ccb9").f("iterator")},ebfd:function(t,e,i){var r=i("62a0")("meta"),n=i("f772"),s=i("07e3"),a=i("d9f6").f,o=0,c=Object.isExtensible||function(){return!0},l=!i("294c")(function(){return c(Object.preventExtensions({}))}),u=function(t){a(t,r,{value:{i:"O"+ ++o,w:{}}})},m=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[r].i},f=function(t,e){if(!s(t,r)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[r].w},d=function(t){return l&&h.NEED&&c(t)&&!s(t,r)&&u(t),t},h=t.exports={KEY:r,NEED:!1,fastKey:m,getWeak:f,onFreeze:d}},f921:function(t,e,i){i("014b"),i("c207"),i("69d3"),i("765d"),t.exports=i("584a").Symbol}}]);